--
-- PostgreSQL database dump
--

-- Dumped from database version 16.2
-- Dumped by pg_dump version 16.2

-- Started on 2024-11-27 22:33:41

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 4 (class 2615 OID 2200)
--

--CREATE SCHEMA IF NOT EXISTS public;


--
-- TOC entry 4892 (class 0 OID 0)
-- Dependencies: 4
-- Name: SCHEMA public; Type: COMMENT; Schema: -; Owner: pg_database_owner
--

COMMENT ON SCHEMA public IS 'standard public schema';


SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 216 (class 1259 OID 25328)
-- Name: comments; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.comments (
    id bigint NOT NULL,
    text text,
    task_id bigint,
    user_id bigint
);


ALTER TABLE public.comments OWNER TO postgres;

--
-- TOC entry 215 (class 1259 OID 25327)
-- Name: comments_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.comments ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.comments_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 217 (class 1259 OID 25335)
-- Name: task_executors; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.task_executors (
    task_id bigint NOT NULL,
    user_id bigint NOT NULL
);


ALTER TABLE public.task_executors OWNER TO postgres;

--
-- TOC entry 218 (class 1259 OID 25340)
-- Name: task_priority; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.task_priority (
    task_id bigint NOT NULL,
    priorities character varying(255),
    CONSTRAINT task_priority_priorities_check CHECK (((priorities)::text = ANY ((ARRAY['PRIORITY_HIGH'::character varying, 'PRIORITY_MEDIUM'::character varying, 'PRIORITY_LOW'::character varying])::text[])))
);


ALTER TABLE public.task_priority OWNER TO postgres;

--
-- TOC entry 219 (class 1259 OID 25344)
-- Name: task_status; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.task_status (
    task_id bigint NOT NULL,
    statuses character varying(255),
    CONSTRAINT task_status_statuses_check CHECK (((statuses)::text = ANY ((ARRAY['STATUS_WAITING'::character varying, 'STATUS_INPROGRESS'::character varying, 'STATUS_COMPLETED'::character varying])::text[])))
);


ALTER TABLE public.task_status OWNER TO postgres;

--
-- TOC entry 221 (class 1259 OID 25349)
-- Name: tasks; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.tasks (
    id bigint NOT NULL,
    text character varying(255),
    author character varying(255)
);


ALTER TABLE public.tasks OWNER TO postgres;

--
-- TOC entry 220 (class 1259 OID 25348)
-- Name: tasks_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.tasks ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.tasks_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 222 (class 1259 OID 25354)
-- Name: user_role; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.user_role (
    user_id bigint NOT NULL,
    roles character varying(255),
    CONSTRAINT user_role_roles_check CHECK (((roles)::text = ANY ((ARRAY['ROLE_USER'::character varying, 'ROLE_ADMIN'::character varying])::text[])))
);


ALTER TABLE public.user_role OWNER TO postgres;

--
-- TOC entry 224 (class 1259 OID 25359)
-- Name: users; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.users (
    id bigint NOT NULL,
    email character varying(255),
    password character varying(1000),
    username character varying(255)
);


ALTER TABLE public.users OWNER TO postgres;

--
-- TOC entry 223 (class 1259 OID 25358)
-- Name: users_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.users ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.users_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 4878 (class 0 OID 25328)
-- Dependencies: 216
-- Data for Name: comments; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.comments (id, text, task_id, user_id) VALUES (17, 'ok', 2, 4);
INSERT INTO public.comments (id, text, task_id, user_id) VALUES (18, 'not bad', 2, 4);
INSERT INTO public.comments (id, text, task_id, user_id) VALUES (19, 'nice', 1, 4);


--
-- TOC entry 4879 (class 0 OID 25335)
-- Dependencies: 217
-- Data for Name: task_executors; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.task_executors (task_id, user_id) VALUES (1, 3);
INSERT INTO public.task_executors (task_id, user_id) VALUES (2, 1);
INSERT INTO public.task_executors (task_id, user_id) VALUES (2, 2);
INSERT INTO public.task_executors (task_id, user_id) VALUES (2, 3);
INSERT INTO public.task_executors (task_id, user_id) VALUES (3, 1);


--
-- TOC entry 4880 (class 0 OID 25340)
-- Dependencies: 218
-- Data for Name: task_priority; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.task_priority (task_id, priorities) VALUES (1, 'PRIORITY_HIGH');
INSERT INTO public.task_priority (task_id, priorities) VALUES (2, 'PRIORITY_MEDIUM');
INSERT INTO public.task_priority (task_id, priorities) VALUES (3, 'PRIORITY_MEDIUM');


--
-- TOC entry 4881 (class 0 OID 25344)
-- Dependencies: 219
-- Data for Name: task_status; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.task_status (task_id, statuses) VALUES (1, 'STATUS_COMPLETED');
INSERT INTO public.task_status (task_id, statuses) VALUES (2, 'STATUS_WAITING');
INSERT INTO public.task_status (task_id, statuses) VALUES (3, 'STATUS_WAITING');


--
-- TOC entry 4883 (class 0 OID 25349)
-- Dependencies: 221
-- Data for Name: tasks; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.tasks (id, text, author) VALUES (3, 'New task', 'dima');
INSERT INTO public.tasks (id, text, author) VALUES (1, 'Not so important now', 'max');
INSERT INTO public.tasks (id, text, author) VALUES (2, 'New task description', 'max');


--
-- TOC entry 4884 (class 0 OID 25354)
-- Dependencies: 222
-- Data for Name: user_role; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.user_role (user_id, roles) VALUES (2, 'ROLE_ADMIN');
INSERT INTO public.user_role (user_id, roles) VALUES (1, 'ROLE_ADMIN');
INSERT INTO public.user_role (user_id, roles) VALUES (3, 'ROLE_ADMIN');
INSERT INTO public.user_role (user_id, roles) VALUES (4, 'ROLE_ADMIN');
INSERT INTO public.user_role (user_id, roles) VALUES (5, 'ROLE_USER');
INSERT INTO public.user_role (user_id, roles) VALUES (6, 'ROLE_USER');


--
-- TOC entry 4886 (class 0 OID 25359)
-- Dependencies: 224
-- Data for Name: users; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.users (id, email, password, username) VALUES (1, '777@mail.ru', '$2a$10$tUhPzempmS1cZP/xZFZf5eHHCp6MalhbwN9wo36weZfHNI63E8NAm', 'admin');
INSERT INTO public.users (id, email, password, username) VALUES (2, 'max@mail.ru', '$2a$10$gyEhzJjS1QLmfR9cRac2QuwQY8sMtQsUYVG0IAdqmo.iI6PT6W1Fy', 'max');
INSERT INTO public.users (id, email, password, username) VALUES (3, 'user@mail.ru', '$2a$10$VJ3EGPOGBEzObhfHshxPL.b6IwmHxKriSgvReEZsZjnNfezO/i6FK', 'user');
INSERT INTO public.users (id, email, password, username) VALUES (4, 'dima@mail.ru', '$2a$10$3YZCjs1j/.7j652NZ.i3Xu6sY9xgJC3fIrRHHkqohRa3pl.wRkSuK', 'dima');
INSERT INTO public.users (id, email, password, username) VALUES (5, 'denis@mail.ru', '$2a$10$1jTLUQ73xSVp.gnZ5GauF.cpgIqzW9jmPcz5cY3IodKT065J/yGpK', 'denis');
INSERT INTO public.users (id, email, password, username) VALUES (6, 'test@example.com', '$2a$10$gZvl1GbaCc1TFgYlhAjmKe4hSjr65zJWEoLl1Kn9PSXWmNTT4UqkK', 'testUser');


--
-- TOC entry 4893 (class 0 OID 0)
-- Dependencies: 215
-- Name: comments_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.comments_id_seq', 19, true);


--
-- TOC entry 4894 (class 0 OID 0)
-- Dependencies: 220
-- Name: tasks_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.tasks_id_seq', 3, true);


--
-- TOC entry 4895 (class 0 OID 0)
-- Dependencies: 223
-- Name: users_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.users_id_seq', 6, true);


--
-- TOC entry 4718 (class 2606 OID 25334)
-- Name: comments comments_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.comments
    ADD CONSTRAINT comments_pkey PRIMARY KEY (id);


--
-- TOC entry 4720 (class 2606 OID 25339)
-- Name: task_executors task_executors_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.task_executors
    ADD CONSTRAINT task_executors_pkey PRIMARY KEY (task_id, user_id);


--
-- TOC entry 4722 (class 2606 OID 25353)
-- Name: tasks tasks_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tasks
    ADD CONSTRAINT tasks_pkey PRIMARY KEY (id);


--
-- TOC entry 4724 (class 2606 OID 25367)
-- Name: users uk6dotkott2kjsp8vw4d0m25fb7; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT uk6dotkott2kjsp8vw4d0m25fb7 UNIQUE (email);


--
-- TOC entry 4726 (class 2606 OID 25365)
-- Name: users users_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_pkey PRIMARY KEY (id);


--
-- TOC entry 4732 (class 2606 OID 25393)
-- Name: task_status fk3sgvbrr34tnobwd0de2sxt0f3; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.task_status
    ADD CONSTRAINT fk3sgvbrr34tnobwd0de2sxt0f3 FOREIGN KEY (task_id) REFERENCES public.tasks(id);


--
-- TOC entry 4727 (class 2606 OID 25373)
-- Name: comments fk8omq0tc18jd43bu5tjh6jvraq; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.comments
    ADD CONSTRAINT fk8omq0tc18jd43bu5tjh6jvraq FOREIGN KEY (user_id) REFERENCES public.users(id);


--
-- TOC entry 4731 (class 2606 OID 25388)
-- Name: task_priority fkakilvwci7avruo9p0igl23pm0; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.task_priority
    ADD CONSTRAINT fkakilvwci7avruo9p0igl23pm0 FOREIGN KEY (task_id) REFERENCES public.tasks(id);


--
-- TOC entry 4729 (class 2606 OID 25383)
-- Name: task_executors fkdwa89rygm4g6nk9igstvodhnl; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.task_executors
    ADD CONSTRAINT fkdwa89rygm4g6nk9igstvodhnl FOREIGN KEY (task_id) REFERENCES public.tasks(id);


--
-- TOC entry 4728 (class 2606 OID 25368)
-- Name: comments fki7pp0331nbiwd2844kg78kfwb; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.comments
    ADD CONSTRAINT fki7pp0331nbiwd2844kg78kfwb FOREIGN KEY (task_id) REFERENCES public.tasks(id);


--
-- TOC entry 4733 (class 2606 OID 25398)
-- Name: user_role fkj345gk1bovqvfame88rcx7yyx; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_role
    ADD CONSTRAINT fkj345gk1bovqvfame88rcx7yyx FOREIGN KEY (user_id) REFERENCES public.users(id);


--
-- TOC entry 4730 (class 2606 OID 25378)
-- Name: task_executors fkm0wm0k1uh7se3sbw9ikvdsu3q; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.task_executors
    ADD CONSTRAINT fkm0wm0k1uh7se3sbw9ikvdsu3q FOREIGN KEY (user_id) REFERENCES public.users(id);


-- Completed on 2024-11-27 22:33:42

--
-- PostgreSQL database dump complete
--

